<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/public/img/favicon.ico">

    <title>6th BAND - Community</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/public/css/common.css">
    <style>
        .material-symbols-outlined {
          font-variation-settings:
          'FILL' 0,
          'wght' 250,
          'GRAD' 0,
          'opsz' 24
        }

        .input-with-button {
        position: relative;
        }
        .input-with-button input {
        padding-right: 100px; /* Adjust this value to fit the button size */
        }
        .input-with-button button {
        position: absolute;
        right: 0;
        top: 0;
        height: 100%;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        background-color: #ff6699; /* Initial button background color */
        color: white; /* Initial button text color */
        border: none; /* Remove button border */
        }
        .input-with-button button:active,
        .input-with-button button:focus,
        .input-with-button button:hover {
        background-color: #ff6699; /* Same as initial button background color */
        color: white; /* Same as initial button text color */
        border: none; /* Same as initial button border */
        outline: none; /* Remove focus outline */
        }

        .modal-backdrop {
            background-color: transparent !important;
        }

        .modal-content {
            border: none !important;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important; /* 그림자 효과 추가 */
        }
        .custom-modal-size {
            max-width: 100px; /* 원하는 너비로 설정 */
            max-height: 100px;
        }
        .custom-dropdown-width {
            min-width: 100px;
        }
        .hidden {
            display: none !important;
        }
        #mainContent{
            display: none;
        }
        .rowPadding{
            padding-top: 10em;
            padding-bottom: 1em;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="wrapper">
            <!-- /* 헤더 */ -->
            <div th:replace="~{common/navi::topNavi}"></div>
            <div th:replace="~{common/navi::allMenuNavi}"></div>

            <!-- /* 컨텐츠 */ -->
            <div class="main" id="mainContent">
                <div class="container">
                    <div class="row">
                        <div class="col-11 mx-auto">
                            <!-- <div class="row pt-2">
                                <div class="col">
                                    <span class="material-symbols-outlined" onclick="backToBoardList()">arrow_back_ios</span>
                                </div>
                            </div> -->
                            <div class="row pt-2 new-fs-85 align-items-center">
                                    <div class="col-auto pe-0 text-primary" id="boardDetailCategory">
                                        카테고리ㅣㅣㅣㅣㅣㅣ

                                    </div>
                                
                                    <div class="material-symbols-outlined col-auto ps-0 text-primary">
                                        chevron_right
                                    </div>
                            </div>

                            <div class="row">
                                <div class="col fs-4 py-2" id="boardDetailTitle">
                                    제목ㄱㄱ
                                </div>
                            </div>
                            <div class="row pb-3 border-bottom">
                                <div class="col-2" id="boardDetailProfile" style="padding-right: 15%;">

                                </div>
                                <div class="col-7 pt-3">
                                    <div class="row ">
                                        <div class="col new-fs-9 fw-semibold" id="boardDetailNickname">
                                            닉네임
                                        </div>
                                    </div>
                                    <div class="row">
                                        <span class="col-auto new-fs-8 new-club-text-grey pe-0">
                                            <span id="boarDetailRegist"></span><span>등록</span><!--등록일;;;;-->
                                        </span> &nbsp; &nbsp;
                                        <span class="col-auto new-fs-8 new-club-text-grey px-0" > 
                                            <span>조회</span> <span id="boardDetailReadCount"></span>
                                        </span>
                                    </div>
                                    
                                </div>
                                <div class="col-2 px-0 text-end align-self-end" >                                      
                                        <div class="row">
                                            <div class="col">
                                                <div class="dropdown d-none" id="userWrite">
                                                    <button class="btn btn-link text-black text-end fs-4 pb-0 " type="button" id="freeBoardButton" data-bs-toggle="dropdown" aria-expanded="false" style="text-decoration: none;">
                                                        ⋮
                                                    </button>
                                                    <ul class="dropdown-menu text-center custom-dropdown-width" aria-labelledby="freeBoardButton" >
                                                        <li class="d-flex align-items-center justify-content-center border-bottom pb-1">
                                                            <span class="material-symbols-outlined" style="color: #d9d9d9;">do_not_disturb_on</span> &nbsp; 가 &nbsp;
                                                            <span class="material-symbols-outlined">add_circle</span>
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item new-fs-9" href="#" onclick="updateContent()">수정하기</a>
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item new-fs-9" href="#" onclick="showDeleteConfirmModal()">삭제하기</a>
                                                        </li>
                                                        
                                                    </ul>
                                                </div>


                                                <div class="dropdown d-none" id="userRead">
                                                    <button class="btn btn-link text-black text-end fs-4 pb-0 " type="button" id="freeBoardButton" data-bs-toggle="dropdown" aria-expanded="false" style="text-decoration: none;">
                                                        ⋮
                                                    </button>
                                                    <ul class="dropdown-menu text-center custom-dropdown-width" aria-labelledby="freeBoardButton" >
                                                        <li class="d-flex align-items-center justify-content-center border-bottom pb-1">
                                                            <span class="material-symbols-outlined" style="color: #d9d9d9;">do_not_disturb_on</span> &nbsp; 가 &nbsp;
                                                            <span class="material-symbols-outlined">add_circle</span>
                                                        </li>
                                                        <li>
                                                            <a class="dropdown-item new-club-text-grey new-fs-9 pt-2" href="#" onclick="freeBoardReport()">신고하기</a>
                                                        </li>
                                                        
                                                    </ul>
                                                </div>

                                                
                                            </div>
                                        </div>
                                        
                                       
                                </div>

                                
                            </div>

                            <div class="row pt-3 pb-5">
                                <div class="col" id="boardDetailContent">
                                    글내용.......
                                </div>
                            </div>
                            <div class="row">
                                <div class="col imageWrapper">

                                </div>
                                
                            </div>


                            <div id="template" class="d-none">
                                <div class="row imageTemplate">
                                    <div class="col pt-5 imageContainer img-fluid text-center" >
                                    </div>
                                </div>
                            </div>

                            <!--댓글작성 및  댓글 리스트 -->
                          <div class="row py-4">
                            <div class="col px-0">
                                    <div class="input-with-button">
                                        <textarea class="form-control" id="inputComment" placeholder="댓글을 작성 해주세요." style="padding-right: 25%;"></textarea>
                                        <button class="btn new-text-white new-fs-9" type="button" onclick="commentRegist()" style="background-color: #ff6d96;">댓글작성</button>
                                    </div>
                                
                            </div>
                          </div>

                          <div class="row ">
                            <div class="col d-flex align-items-center fw-semibold fs-6">
                                <i class="bi bi-chat"></i> &nbsp;<span>댓글</span>
                            </div>
                          </div>
                            

                            <!-- 댓글작성 여기 하기ㅣㅣㅣㅣㅣㅣㅣㅣㅣ-->
                            <div class="row" style="padding-bottom: 25%;">
                                <div class="col commentListBox">

                                </div>

                            </div>

                            <div id="commentTemplate" class="d-none">
                                <div class="row pt-2 commentWrapper pb-3 border-bottom">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col px-0 text-end commentButton hidden new-fs-8 new-club-text-grey">
                                                <span class="pe-2 " onclick="showUpdateComment()">수정</span>|
                                                <span class="deleteComment px-1 ">삭제</span>
                                            </div>
                                        </div>
                                        <div class="row pb-2">
                                            <div class="col-2  commentProfile" >

                                            </div>
                                            <div class="col-10">
                                                <div class="row  pb-2">
                                                    <div class="userNickname new-fs-9 fw-semibold">닉네임</div>
                                                </div>
                                                <div class="row">
                                                    <div class="commentContent new-fs-9 pe-0">댓글 작성한 내용</div>
                                                </div>
                                                <div class="row ps-3 commentDate new-club-text-grey new-fs-8">
                                                    2024.07.08
        
                                                </div>
                                                <div class="row pt-2">
                                                    <div class="col-12 d-flex align-items-center">
                                                        <span class="material-symbols-outlined">subdirectory_arrow_right</span>
                                                        <span><img src="/public/img/club/GptIcon.png" class="img-fluid" alt="" style="height: 20px; width: 20px;"></span>&nbsp;
                                                        <span class="px-2 rounded-3 bg-primary1 new-text-white fw-medium new-fs-9">GPT 한줄 요약</span>
                                                    </div>
                                                </div>
                                                <div class="row pt-1">
                                                    <div class="col ps-5">
                                                        <div class="gptContent new-fs-85"></div>
                                                    </div>
                                                </div>
                                            </div>
                                           
                                        </div>
                                        <div class="row updateRow d-none pt-2" style="padding-bottom: 25%;">
                                            <div class="col px-0">
                                                <div class="input-with-button">
                                                    <textarea class="commentUpdateText form-control" style="padding-right: 25%;"></textarea>
                                                    <button class="updateCommentProcess btn  new-fs-9">
                                                        수정 완료
                                                    </button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            
                        </div>
                    </div>
                </div>
                <div class="new-fixed-bottom">
                    <div class="row border border-1 py-2 " style="background-color:rgb(250, 250, 250);">
                        <div class="col-6 px-4 d-flex align-items-center" onclick="goToList()">
                            <span><i class="bi bi-list fs-5" ></i></span>&nbsp;<span class="pt-1 new-fs-9" >목록으로</span>
                        </div>
                        <div class="col-1"></div>
                        <div class="col-5 d-flex align-items-center">
                            <div id="like"  class="bi bi-heart fs-4 new-club-text-red"></div> &nbsp;<div class="d-flex align-items-center new-text-black" id="likeTotalCount"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="notMemberSee" class="d-none">
                <div class="row rowPadding">
                    <div class="col d-flex justify-content-center">
                        멤버에게만 공개된 게시글 입니다.
                    </div>
                </div>
                <div class="row pt-3">
                    <div class="col d-flex justify-content-center">
                        <button class="btn btn-primary" onclick="goToHome()" style="background-color: #ff6d96; border-color: #ff6d96;">카페 가입하기</button>
                    </div>
                </div>
            </div>
            
            <div th:replace="~{common/navi::sidebarLeft}"></div>

            <!-- /* 푸터 */ -->
            <!-- <div th:replace="~{common/navi::bottomNavi}"></div> -->
        </div>
    </div>
<!-- 게시글 -->
    <div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-labelledby="deleteConfirmModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteConfirmModalLabel">삭제 확인</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    정말로 삭제하시겠습니까?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn " style="background-color: rgb(165, 165, 165); color: #f8f8f8;" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary" style="background-color: #ff6d96; border-color: #ff6d96;"  onclick="deleteContent()">삭제</button>
                </div>
            </div>
        </div>
    </div>
<!-- 신고 모달 -->
    <div class="modal fade" id="freeBoardReportModal" tabindex="-1" aria-labelledby="freeBoardReportModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteConfirmModalLabel">신고 하기</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-2">

                    <div class="row">
                        <div class="col ps-3 py-1 new-fs-9">
                            신고 사유
                        </div>
                    </div>
                    <form class="row">
                        <div class="col">
                            <textarea type="text" class="form-control new-fs-9 px-1" id="boardReportReason" placeholder="사유를 입력해주세요."></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn " style="background-color: rgb(165, 165, 165); color: #f8f8f8;" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary" style="background-color: #ff6d96; border-color: #ff6d96;"  onclick="registBoardReport()">작성</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 신고 성공창 -->
    <div class="modal fade" id="reportSuccessModal" tabindex="-1" aria-labelledby="reportSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="reportSuccessModalLabel">신고 완료</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    신고가 완료되었습니다.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">확인</button>
                </div>
            </div>
        </div>
    </div>
    

    <script type="text/javascript" src="/public/js/club/clubFreeboard.js"></script>
    <script type="text/javascript" src="/public/js/club/freeBoardDetail.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>