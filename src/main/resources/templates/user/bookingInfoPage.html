<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>6th BAND - MyPage</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/public/css/common.css">

    <style>
        .nav {
            border-color: #cccccc;
        }

        .nav-tabs .nav-link {
            flex: 1;
            text-align: center;
            background-color: #e3e3e3;
            color: black;
            border-color: #cccccc #cccccc #FF6D96;
            border-bottom-width: 2px;
        }
        /* 활성화된 탭 스타일 커스터마이즈 */
        .nav-tabs .nav-link.active {
            background-color: #f8f8f8;
            color: #FF6D96;
            font-weight: bold;
            border-color: #FF9191 #FF9191 #f8f8f8;
        }

        .new-border-end-dash {
            border-right: 2px dashed;
        }
    </style>

</head>
<body>
<div id="root">
    <div class="wrapper bgPatternBlackAndWhite">
        <!--/* 헤더 */-->
        <div th:replace="~{common/navi::topNavi}"></div>
        <div th:replace="~{common/navi::allMenuNavi}"></div>

        <!--/* 컨텐츠 */-->
        <div class="main new-text-black">
            <div class="container">

                <div class="row mx-0 py-3 align-items-center">
                    <div class="col-1 px-0" onclick="history.back()">
                        <span class="material-symbols-outlined fs-6 fw-bold d-flex justify-content-start new-text-white">arrow_back_ios</span>
                    </div>
                    <div class="col ps-0 text-center">
                        <span class="fs-5 fw-bold new-text-white">예매 내역</span>
                    </div>
                    <div class="col-1 px-0"></div>
                </div>

                <div class="row">
                    <div class="col">
                        <nav>
                            <div class="nav nav-tabs" id="nav-tab">
                                <button class="nav-link active" id="nav_TicketsIsUseNTab" data-bs-toggle="tab" data-bs-target="#nav_TicketsIsUseN" type="button" aria-controls="nav_TicketsIsUseN" aria-selected="true">예매 완료된 티켓</button>
                                <button class="nav-link" id="nav_TicketsIsUseYTab" data-bs-toggle="tab" data-bs-target="#nav_TicketsIsUseY" type="button" aria-controls="nav_TicketsIsUseY" aria-selected="false">사용 완료된 티켓</button>
                            </div>
                        </nav>
                    </div>

                    <div class="tab-content pb-3" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav_TicketsIsUseN" aria-labelledby="nav_TicketsIsUseN" tabindex="0">
                            <div class="row mx-0 pt-3 new-bg-white">
                                <div class="col">

                                    <div class="row pb-3" th:each="e : ${isUseNInfo}" th:onclick="|bookingInfoModal(${e.booking_id})|">
                                        <div class="col">

                                            <div class="row mx-1 py-2 border border-primary align-items-center">
                                                <div class="col-3 pe-0">
                                                    <img class="img-fluid" th:src="|/images/${e.thumbnail}|">
                                                </div>

                                                <div class="col new-border-end-dash border-primary">
                                                    <div class="row">
                                                        <div class="col new-text-gray new-fs-85">
                                                            <span th:text="${e.day_type}"></span>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col fw-bold">
                                                            <span th:text="${e.festival_name}"></span>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col new-text-gray new-fs-85">
                                                            <span>Adult </span>
                                                            <span th:text="${e.adult_quantity}"></span>
                                                            <span> Youth </span>
                                                            <span th:text="${e.youth_quantity}"></span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-2 d-flex justify-content-center">
                                                    <span class="material-symbols-outlined">qr_code_2</span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="tab-pane fade" id="nav_TicketsIsUseY" aria-labelledby="nav_TicketsIsUseY" tabindex="0">
                            <div class="row mx-0 pt-3 new-bg-white">
                                <div class="col">

                                    <div class="row pb-3" th:each="e : ${isUseYInfo}" th:onclick="|bookingInfoModal(${e.booking_id})|">
                                        <div class="col">

                                            <div class="row mx-1 py-2 border border-primary align-items-center">
                                                <div class="col-3 pe-0">
                                                    <img class="img-fluid" th:src="|/images/${e.thumbnail}|">
                                                </div>

                                                <div class="col new-border-end-dash border-primary">
                                                    <div class="row">
                                                        <div class="col new-text-gray new-fs-85">
                                                            <span th:text="${e.day_type}"></span>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col fw-bold">
                                                            <span th:text="${e.festival_name}"></span>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col new-text-gray new-fs-85">
                                                            <span>Adult </span>
                                                            <span th:text="${e.adult_quantity}"></span>
                                                            <span> Youth </span>
                                                            <span th:text="${e.youth_quantity}"></span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-2 d-flex justify-content-center">
                                                    <span class="material-symbols-outlined">qr_code_2</span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- /* 푸터 */ -->
        <div th:replace="~{common/navi::bottomNavi_wh}"></div>
        <!-- /* 퀵바 */ -->
        <div th:replace="~{common/navi::quickNavi}"></div>
    </div>
</div>

<!-- 티켓 구매내역 모달 -->
<div class="modal fade" id="myBookingInfoModal" tabindex="-1" aria-labelledby="myBookingInfoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable new-text-black">
        <div class="modal-content">

            <div class="modal-header text-primary fs-5">
                <div class="row align-items-center">
                    <div class="col-auto pe-0 d-flex justify-content-center">
                        <span class="material-symbols-outlined">book_online</span>
                    </div>
                    <div class="col fw-bold">
                        <span>티켓 예매 상세 내용</span>
                    </div>
                </div>
            </div>

            <div class="modal-body pt-0">

                <!--                나중에 QR코드 들어가면 이미지로 대체-->
                <div class="row py-3 align-items-center text-center">
                    <div class="col">
                        <img id="myTicketQrCode">
                    </div>
                </div>

                <div class="row ps-3 align-items-center">
                    <div class="col-3 pe-0">
                        <span>예매 번호 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketUuidModalSpan"> UUID?</span>
                    </div>
                </div>

                <div class="row ps-3 pt-2 align-items-center">
                    <div class="col-3 pe-0">
                        <span>관람일시 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketBookingDayModalSpan">관람일</span>
                    </div>
                </div>

                <div class="row ps-3 pt-2 align-items-center">
                    <div class="col-3 pe-0">
                        <span>예매일 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketBuyDayModalSpan">예매일</span>
                    </div>
                </div>

                <div class="row ps-3 pt-2 align-items-center">
                    <div class="col-3 pe-0">
                        <span>성인 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketAdultQuantityModalSpan">성인수량</span>
                    </div>
                </div>

                <div class="row ps-3 pt-2 align-items-center">
                    <div class="col-3 pe-0">
                        <span>청소년 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketYouthQuantityModalSpan">청소년수량</span>
                    </div>
                </div>

                <!--                사용 여부!!-->
                <div class="row ps-3 pt-2 align-items-center">
                    <div class="col-3 pe-0">
                        <span>사용 여부 </span>
                    </div>
                    <div class="col">
                        <span id="myTicketIsUseModalSpan"></span>
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <div class="col text-danger fw-bold">
                    <span>모바일티켓(QR코드)의 캡처본 및 사본은 티켓으로 절대 인정되지 않습니다.</span>
                </div>
            </div>

        </div>
    </div>
</div>

<!--/* 사이드바 */-->
<div th:replace="~{common/navi::sidebarLeft}"></div>
<script type="text/javascript" src="/public/js/ticket/ticketMyPage.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>