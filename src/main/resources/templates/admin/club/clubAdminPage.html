<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>6th BAND - Admin</title>    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/public/css/common.css">

    <style>
        .active-border{
            border: 1px solid black; 
            border-color: blue;
        }
    </style>
</head>
<body>
    <div class="admin-wrapper">
        <div class="admin-container">
            <div class="d-flex">
                <!-- /* 좌측 메뉴 : 메뉴 추가될 경우 해당 navi 에 추가 필요 */ -->
                <div class="page-left position-fixed top-0 bottom-0 border-end border-dark">
                    <div th:replace="~{common/adminNavi::leftMenuNavi}"></div>
                </div>

                <!-- /* 우측 컨텐츠 */ -->
                <div class="page-right flex-grow-1">
                    <!-- /* 헤더 */ -->
                    <div th:replace="~{common/adminNavi::topNavi}"></div>

                    <!-- /* 컨텐츠 */ -->
                    <div class="main py-4 px-4">
                        <div class="row pb-1">
                            <div class="col fs-5 fw-bold">
                                등록된 모임
                            </div>
                        </div>

                        <div class="search-box px-4 py-3 new-bg-gray border new-fs-9">
                            <form action="" method="get">
                                <div class="d-flex align-items-center mb-1 pb-1 border-bottom">
                                    <div class="search-col col-6 d-flex align-items-center">
                                        <div class="search-title fw-medium ps-3" style="width: 8em;">카테고리</div>
                                        <div class="search-con d-flex">
                                            <select name="category" class="form-select new-w-150 py-1 rounded-0 new-fs-8">
                                                <option value="">전체</option>
                                                <option th:each="category : ${projectCategoryList}" th:value="${category.id}" th:text="${category.name}"></option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div class="d-flex align-items-center mb-1 pb-1 border-bottom">
                                    <div class="search-col col-6 d-flex align-items-center">
                                        <div class="search-title fw-medium ps-3" style="width: 8em;">진행 상태</div>
                                        <div class="search-con d-flex flex-wrap">
                                            <div class="form-check me-4">
                                                <input type="checkbox" name="status" value="심사중" id="status1" class="form-check-input">
                                                <label class="form-check-label" for="status1">
                                                    <span class="new-fs-9">New</span>
                                                </label>
                                            </div>
                                            <div class="form-check me-4">
                                                <input type="checkbox" name="status" value="반려" id="status3" class="form-check-input">
                                                <label class="form-check-label" for="status3">
                                                    <span class="new-fs-9">승인</span>
                                                </label>
                                            </div>
                                            <div class="form-check me-4">
                                                <input type="checkbox" name="status" value="승인" id="status2" class="form-check-input">
                                                <label class="form-check-label" for="status2">
                                                    <span class="new-fs-9">거부</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="search-title fw-medium" style="width: 5em;">지역</div>

                                    <div class="col">
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">서울</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">인천</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">경기</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">강원</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">대전</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">세종</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9 pe-3">충북</span>
                                        <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                        <span class="new-fs-9">충남</span>
                                        <div class="row pt-1">
                                            <div class="col">
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">광주</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">전북</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">전남</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">부산</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">울산</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">경북</span>
                                                <span><input type="checkbox" name="status" value="반려" id="status3" class="form-check-input "></span>
                                                <span class="new-fs-9 pe-3">경남</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="">
                                    <div class="row d-flex align-items-center pb-1 border-bottom">
                                        <div class="search-title fw-medium ps-3 text-center col-1">검색어</div>
                                        <div class="search-con pe-3 col-1">
                                            <div class="" >
                                                <select name="searchOption" class="form-select new-w-150 py-1 rounded-0 new-fs-8">
                                                    <option value="nickname">전체</option>
                                                    <option value="title">모임명</option>
                                                    <option value="title">모임설명</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="px-2 col-8" >
                                            <input name="searchWord" type="text" class="form-control d-grid py-1 rounded-0 new-fs-8" style="width: 100%;">
                                        </div>
                                        <div class="col-auto">
                                            <button class="btn new-bg-dark new-w-150 py-1 px-4 rounded-0 new-fs-8 text-white">검색하기</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-2 text-center d-none">
                                    <button class="btn btn-dark new-bg-dark new-w-150 py-1 px-4 new-fs-8 text-white" style="border-radius: 2px;">검색하기</button>
                                    <button class="btn new-w-150 py-1 px-4 border new-fs-8" style="border-radius: 2px;">초기화</button>
                                </div>
                            </form>
                        </div>
                        <div class="row pt-5" style="justify-content: space-between;">
                            <div class="col-2 ps-3 text-start d-flex align-items-end">
                                <span>총</span> &nbsp;
                                <span th:text="${totalClubCount}"></span><span>개</span>
                            </div>
                            <div class="pe-4" style="width: 10em;">
                                <select class="form-select rounded-0 pe-5 py-1" aria-label="Default select example">
                                    <option value="1">전체</option>
                                    <option value="2">작성일순</option>
                                  </select>
                            </div>
                        </div>
                        <div class="sub-content pt-1">
                            <div class="order-list">
                                <div class="table-head d-flex py-2 new-border-top-gray border-bottom new-bg-gray new-fs-9">
                                    <div class="ps-3 fw-medium text-center" style="width: 4%;">번호</div>
                                    <div class="col-1 px-2 fw-medium text-center">모임로고</div>
                                    <div class="col-1 px-2 fw-medium text-center">분류</div>
                                    <div class="col-1 px-2 fw-medium text-star">소모임방장</div>
                                    <div class="col-2 px-2 fw-medium text-start ">모임명</div>
                                    <div class="col-2 px-2 fw-medium text-start">모임 설명</div>
                                    <div class="col-1 px-2 fw-medium text-center">최대정원</div>
                                    <div class="col-1 px-2 fw-medium text-center">작성일</div>
                                    <div class="col fw-medium text-start ">위치</div>
                                    <div class="col-1 px-2 fw-medium text-center">상태</div>
                                </div>
                                
                                <div  th:each="clubList : ${clubListAll}" class="d-flex align-items-center py-2 new-fs-9 border-bottom">
                                    <div th:text="${clubList.clubDto.id}" class=" px-4 font-roboto text-center" style="width: 2%;">번호</div>
                                    <div class="col-1 text-center ">
                                        <img th:src="|/images/${clubList.clubDto.club_logo}|" class="img-fluid fixed-size-img image-thumbnail" style="width: 4em; height: 4em;">
                                    </div>
                                    <div class="col-1 text-center">
                                        <div th:text="${clubList.category}"></div>
                                    </div>
                                    <div th:text="${clubList.userDto.name}" class="col-1 px-2 ps-4 text-start ">모임방장</div>
                                    <div class="col-2 ps-3 text-start">
                                        <a th:href="@{/admin/club/clubDetailPage(id=${clubList.clubDto.id})}" th:text="${clubList.clubDto.club_name}" class="d-block text-truncate fw-semibold">모임명</a>
                                    </div>
                                    <div th:text="${clubList.clubDto.club_explanation}" class="col-2 ps-3 text-start text-truncate">모임설명</div>
                                    <div th:text="${clubList.clubDto.max_members}" class="col-1 px-2 font-roboto text-center">최대정원</div>
                                    <div th:text="${#dates.format(clubList.clubDto.created_at,'yyyy-MM-dd HH:mm')}" class="col-1 px-2 font-roboto text-center">작성일</div>
                                    <div th:text="${clubList.clubDto.club_location}" class="col text-truncate"></div>
                                    <div class="col-auto" th:if="${clubList.clubDto.club_activation ==0}">
                                        <div class="row pb-2">
                                            <div class="col text-center">
                                                <div th:if="${clubList.clubDto.club_activation == 0}">
                                                    <span class="text-danger  border border-danger px-2">NEW</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <span class="col-6 pe-0 text-end">
                                                <a class="btn btn-dark px-2 py-1 new-fs-9 rounded-0" th:href="@{./updateRejectClub(id=${clubList.clubDto.id})}">거부</a>
                                            </span>
                                            <span class="col-6 px-1 pe-0 text-start">
                                                <a class="btn btn-dark px-2 py-1 new-fs-9 rounded-0" th:href="@{./updateApproveClub(id=${clubList.clubDto.id})}">승인</a>
                                            </span>
                                        </div>
                                        
                                    </div>
                                    <div class="col-1" >
                                        <div class="row">
                                            <div class="col text-center" >
                                                <div th:if="${clubList.clubDto.club_activation == 1}">
                                                    <span class="text-danger border border-danger px-2">등록 거부</span>
                                                </div>
                                                <div th:if="${clubList.clubDto.club_activation == 2}">
                                                    <span class="px-2 active-border" style="color: blue; ">등록 승인</span>
                                                </div>
                                            </div>
                                        </div>
                                    
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- pagination -->
                    <div class="row py-4">
                        <div class="col">
                            <nav aria-label="Page navigation">
                                <ul class="pagination justify-content-center">
                                    <li class="page-item">
                                        <a class="page-link rounded-0 new-text-black" th:classappend="${startPage le 1} ? 'disabled'" th:href="@{/admin/club/registClub(p=${startPage - 1})}" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                        </a>
                                    </li>

                                    <li th:each="i : ${#numbers.sequence(startPage, endPage)}" class="page-item">
                                        <a class="page-link new-text-black" th:classappend="${currentPage == i} ? 'active'" th:href="@{/admin/club/registClub(p=${i})}" th:text="${i}"></a>
                                    </li>


                                    <li class="page-item">
                                        <a class="page-link rounded-0 new-text-black" th:classappend="${endPage ge lastPageNumber} ? 'disabled'" th:href="@{/admin/club/registClub(p=${endPage + 1})}" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>

                    <!-- /* 푸터 */ -->
                    <div th:replace="~{common/adminNavi::bottomNavi}"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>